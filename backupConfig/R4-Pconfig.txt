# TiMOS-C-21.10.R2 cpm/x86_64 Nokia 7750 SR Copyright (c) 2000-2021 Nokia.
# All rights reserved. All use subject to applicable license agreements.
# Built on Wed Dec 15 14:15:11 PST 2021 by builder in /builds/c/2110B/R2/panos/main/sros
# Configuration format version 21.10 revision 0

# Generated THU MAY 04 08:28:52 2023 UTC

exit all
configure
#--------------------------------------------------
echo "System Configuration"
#--------------------------------------------------
    system
        name "R4-P"
        management-interface
            yang-modules
                no nokia-combined-modules
                nokia-submodules
            exit
        exit
        netconf
            no shutdown
        exit
        snmp
            streaming
                no shutdown
            exit
            packet-size 9216
        exit
        time
            ntp
                no shutdown
            exit
            sntp
                shutdown
            exit
            zone UTC
        exit
    exit
#--------------------------------------------------
echo "System Security Configuration"
#--------------------------------------------------
    system
        security
            telnet-server
            ftp-server
            profile "default"
                netconf
                    base-op-authorization
                        action
                        cancel-commit
                        close-session
                        commit
                        copy-config
                        create-subscription
                        delete-config
                        discard-changes
                        edit-config
                        get
                        get-config
                        get-data
                        get-schema
                        validate
                    exit
                exit
                entry 10
                    match "exec"
                    action permit
                exit
                entry 20
                    match "exit"
                    action permit
                exit
                entry 30
                    match "help"
                    action permit
                exit
                entry 40
                    match "logout"
                    action permit
                exit
                entry 50
                    match "password"
                    action permit
                exit
                entry 60
                    match "show config"
                    action deny
                exit
                entry 65
                    match "show li"
                    action deny
                exit
                entry 66
                    match "clear li"
                    action deny
                exit
                entry 67
                    match "tools dump li"
                    action deny
                exit
                entry 68
                    match "state li"
                    action deny
                exit
                entry 70
                    match "show"
                    action permit
                exit
                entry 75
                    match "state"
                    action permit
                exit
                entry 80
                    match "enable-admin"
                    action permit
                exit
                entry 90
                    match "enable"
                    action permit
                exit
                entry 100
                    match "configure li"
                    action deny
                exit
            exit
            profile "CISCO-OPERATOR"
                default-action deny-all
                entry 1
                    match "configure service"
                    action permit
                exit
                entry 2
                    match "info"
                    action permit
                exit
                entry 3
                    match "show service"
                    action permit
                exit
                entry 6
                    match "configure port"
                    action permit
                exit
            exit
            profile "administrative"
                netconf
                    base-op-authorization
                        action
                        cancel-commit
                        close-session
                        commit
                        copy-config
                        create-subscription
                        delete-config
                        discard-changes
                        edit-config
                        get
                        get-config
                        get-data
                        get-schema
                        kill-session
                        lock
                        validate
                    exit
                exit
                entry 10
                    match "configure system security"
                    action permit
                exit
                entry 20
                    match "show system security"
                    action permit
                exit
                entry 30
                    match "tools perform security"
                    action permit
                exit
                entry 40
                    match "tools dump security"
                    action permit
                exit
                entry 50
                    match "admin system security"
                    action permit
                exit
                entry 100
                    match "configure li"
                    action deny
                exit
                entry 110
                    match "show li"
                    action deny
                exit
                entry 111
                    match "clear li"
                    action deny
                exit
                entry 112
                    match "tools dump li"
                    action deny
                exit
            exit
            user "admin"
                password "$2y$10$0fn2jCBZe3EshLjDxWxPo.ftLumdTc5cWtf.Kf0.pAH7hC.9zORY6"
                access console ftp snmp netconf grpc
                console
                    member "administrative"
                exit
            exit
            user "asad"
                password "$2y$10$LJNEQ6DVCrDIsaJsBnhOA.ehfNbB/BBzb9W14gguyKWvnrrQRbR02"
                access console ftp snmp netconf grpc
                console
                    member "default"
                    member "administrative"
                exit
            exit
            user "cisco-operator"
                password "$2y$10$r4gS05mKzSCsHSz6FXmMc.622t2lvwnqAhqe071227zsaPqcZrz9y"
                access console snmp
                console
                    member "default"
                    member "CISCO-OPERATOR"
                exit
            exit
            snmp
                community "cV3ISTw2V5pbEWmVEA9jXgB/1EERXQA=" hash2 rwa version both
                community "76HzdddhlPpRo1Vql+ZB5spLqccgYQ==" hash2 rwa version both
            exit
            ssh
                preserve-key
            exit
            per-peer-queuing
            cpu-protection
                policy 254 create
                exit
                policy 255 create
                exit
            exit
            dist-cpu-protection
                policy "_default-port-policy" type port create
                exit
                policy "_default-access-policy" create
                exit
                policy "_default-network-policy" create
                exit
            exit
        exit
    exit
#--------------------------------------------------
echo "Log Configuration"
#--------------------------------------------------
    log
        file-id 10
            description "7x50 OAM-PM Accounting Stats"
            location cf2:
            rollover 60 retention 12
        exit
        file-id 11
            description "7x50 OAM-PM Accounting Stats"
            location cf2:
            rollover 60 retention 12
        exit
        accounting-policy 10
            description "7x50 OAM-PM Accounting Stats "
            record complete-pm
            collection-interval 15
            to file 10
            no shutdown
        exit
        accounting-policy 11
            description "7x50 OAM-PM Accounting Stats "
            record complete-pm
            collection-interval 15
            to file 11
            no shutdown
        exit
        filter 1500 name "1500"
            default-action forward
            description "Netconf config/create/cli log filter"
            entry 1 name "1"
                action drop
                description "To drop system tmnxConfigModify"
                match
                    application eq "system"
                    number eq 2006
                exit
            exit
            entry 2 name "2"
                action drop
                description "To drop system tmnxConfigCreate"
                match
                    application eq "system"
                    number eq 2007
                exit
            exit
            entry 3 name "3"
                action drop
                description "To drop system tmnxStateChange"
                match
                    application eq "system"
                    number eq 2009
                exit
            exit
            entry 4 name "4"
                action drop
                description "To drop security cli_user_login"
                match
                    application eq "security"
                    number eq 2001
                exit
            exit
            entry 5 name "5"
                action drop
                description "To drop security cli_user_logout"
                match
                    application eq "security"
                    number eq 2002
                exit
            exit
            entry 6 name "6"
                action drop
                description "To drop user netconf_user_login"
                match
                    application eq "user"
                    number eq 2018
                exit
            exit
            entry 7 name "7"
                action drop
                description "To drop user netconf_user_logout"
                match
                    application eq "user"
                    number eq 2019
                exit
            exit
            entry 8 name "8"
                action drop
                description "To drop security netconf_user_login"
                match
                    application eq "security"
                    number eq 2121
                exit
            exit
            entry 9 name "9"
                action drop
                description "To drop security netconf_user_logout"
                match
                    application eq "security"
                    number eq 2122
                exit
            exit
            entry 10 name "10"
                action drop
                description "To drop system ssiSaveConfigSucceeded"
                match
                    application eq "system"
                    number eq 2002
                exit
            exit
            entry 11 name "11"
                action drop
                description "To drop user cli_config_io"
                match
                    application eq "user"
                    number eq 2011
                exit
            exit
            entry 12 name "19"
                action drop
                description "To drop user grpc_user_login notification"
                match
                    application eq "user"
                    number eq 2014
                exit
            exit
            entry 13 name "20"
                action drop
                description "To drop user grpc_user_logout notification"
                match
                    application eq "user"
                    number eq 2015
                exit
            exit
            entry 14 name "21"
                action drop
                description "To drop security grpc_user_login notification"
                match
                    application eq "security"
                    number eq 2117
                exit
            exit
            entry 15 name "22"
                action drop
                description "To drop security grpc_user_logout notification"
                match
                    application eq "security"
                    number eq 2118
                exit
            exit
            entry 16 name "34"
                action drop
                description "To drop ISIS tmnxIsisCircMtuTooLow notification"
                match
                    application eq "isis"
                    number eq 2064
                exit
            exit
            entry 17 name "35"
                action drop
                description "To drop PTP tmnxPtpMasterClockChangedEvent notification"
                match
                    application eq "ptp"
                    number eq 2003
                exit
            exit
        exit
        event-control "igmp" 2005 suppress
        event-control "video" 2009 suppress
        event-control "video" 2010 suppress
        event-control "vrtr" 2034 generate
        snmp-trap-group 97 name "97"
        exit
        snmp-trap-group 98 name "98"
            description "5620sam"
            trap-target "5254000E2B1C:main1" address 139.178.72.123 snmpv2c notify-community "privatetrap98"
            trap-target "52540017BD46:main1" address 147.75.202.27 snmpv2c notify-community "privatetrap98"
            trap-target "5254003F2510:main1" address 147.75.102.179 snmpv2c notify-community "privatetrap98"
            trap-target "525400F7FEF1:main1" address 139.178.89.123 snmpv2c notify-community "privatetrap98"
        exit
        log-id 96 name "96"
            description "Log to filter out unwanted Netconf logs"
            filter 1500
            from main security
            to netconf 500
            netconf-stream "nsp-netconf-stream"
            no shutdown
        exit
        log-id 97 name "97"
            from main
            to snmp 1024
            no shutdown
        exit
        log-id 98 name "98"
            from main security change
            to snmp 1024
            no shutdown
        exit
    exit
#--------------------------------------------------
echo "System Security Cpm Hw Filters, PKI, TLS and LDAP Configuration"
#--------------------------------------------------
    system
        security
            cpm-filter
                ip-filter
                    entry 902 create
                        action accept
                        description "CPM-FILTER-MVTC only TWAMP"
                        match protocol udp
                            port range 64364 64365
                        exit
                    exit
                    no shutdown
                exit
            exit
            tls
                cert-profile "grpc_cert_profile" create
                    entry 1 create
                        cert "192_168_100_34_cert_l1.crt"
                        key "192_168_100_34_servkey_l1.crt"
                    exit
                    no shutdown
                exit
                server-cipher-list "grpc_cipher_list" create
                    cipher 4 name tls-rsa-with3des-ede-cbc-sha
                    cipher 5 name tls-rsa-with-aes128-cbc-sha
                    cipher 6 name tls-rsa-with-aes256-cbc-sha
                    cipher 7 name tls-rsa-with-aes128-cbc-sha256
                    cipher 8 name tls-rsa-with-aes256-cbc-sha256
                exit
                server-tls-profile "grpc_tls_profile" create
                    cert-profile "grpc_cert_profile"
                    cipher-list "grpc_cipher_list"
                    no shutdown
                exit
            exit
        exit
    exit
#--------------------------------------------------
echo "System gRPC Configuration"
#--------------------------------------------------
    system
        grpc
            allow-unsecure-connection
            no shutdown
        exit
    exit
#--------------------------------------------------
echo "QoS Policy Configuration"
#--------------------------------------------------
    qos
        scheduler-policy "ENTERPRISE-SCHEDULER" create
            tier 3
                scheduler "ENTERPRISE-TIER-3-SCHEDULER" create
                exit
            exit
        exit
    exit
#--------------------------------------------------
echo "Switch Fabric Configuration"
#--------------------------------------------------
    sfm 1
        sfm-type m-sfm5-12
        no shutdown
    exit
#--------------------------------------------------
echo "Card Configuration"
#--------------------------------------------------
    card 1
        card-type iom3-xp-c
        mda 1
            mda-type m20-1gb-xp-sfp
            no shutdown
        exit
        no shutdown
    exit
#--------------------------------------------------
echo "Port Configuration"
#--------------------------------------------------
    port 1/1/1
        description ":hc=10.2.4.2/29:"
        ethernet
            speed 10
            mode hybrid
            encap-type dot1q
            lldp
                dest-mac nearest-bridge
                    admin-status tx-rx
                    notification
                exit
            exit
        exit
        no shutdown
    exit
    port 1/1/2
        description ":hc=10.6.4.2/29:"
        ethernet
            speed 10
            lldp
                dest-mac nearest-bridge
                    admin-status tx-rx
                    notification
                exit
            exit
        exit
        no shutdown
    exit
    port 1/1/3
        description ":hc=10.3.4.2/29:"
        ethernet
            speed 10
            mode hybrid
            encap-type dot1q
            lldp
                dest-mac nearest-bridge
                    admin-status tx-rx
                    notification
                exit
            exit
        exit
        no shutdown
    exit
    port 1/1/4
        description ":hc=10.4.7.1/29:"
        ethernet
            speed 10
            lldp
                dest-mac nearest-bridge
                    admin-status tx-rx
                    notification
                exit
            exit
        exit
        no shutdown
    exit
    port 1/1/5
        description ":hc=10.4.5.1/29:"
        ethernet
            speed 10
            mode hybrid
            encap-type dot1q
            lldp
                dest-mac nearest-bridge
                    admin-status tx-rx
                    notification
                exit
            exit
        exit
        no shutdown
    exit
    port 1/1/6
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/7
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/8
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/9
        ethernet
            speed 10
            mode hybrid
            encap-type dot1q
        exit
        no shutdown
    exit
    port 1/1/10
        ethernet
            speed 10
            mode access
        exit
        no shutdown
    exit
    port 1/1/11
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/12
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/13
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/14
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/15
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/16
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/17
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/18
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/19
        shutdown
        ethernet
            speed 10
        exit
    exit
    port 1/1/20
        shutdown
        ethernet
            speed 10
        exit
    exit
    port A/3
        shutdown
        ethernet
        exit
    exit
    port A/4
        shutdown
    exit
    port B/3
        shutdown
        ethernet
        exit
    exit
    port B/4
        shutdown
    exit
#--------------------------------------------------
echo "System Sync-If-Timing Configuration"
#--------------------------------------------------
    system
        sync-if-timing
            begin
            commit
        exit
    exit
#--------------------------------------------------
echo "QoS Policy Configuration"
#--------------------------------------------------
    qos
        sap-ingress 100 name "100" create
            description "decription"
            queue 1 create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 1
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 2 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 2
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 3 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 3
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 4 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 4
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 5 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 5
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 7 expedite create
                parent "ENTERPRISE-TIER-3-SCHEDULER" level 7 cir-level 7
                adaptation-rule pir min cir min
                rate 1
            exit
            queue 8 expedite create
                parent "ENTERPRISE-TIER-3-SCHEDULER" level 8 cir-level 8
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 11 multipoint create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 2
                adaptation-rule pir min cir min
                rate max cir max
            exit
            fc "af" create
                queue 3
            exit
            fc "be" create
                queue 1
            exit
            fc "ef" create
                queue 7
            exit
            fc "h2" create
                queue 5
            exit
            fc "l1" create
                queue 4
            exit
            fc "l2" create
                queue 2
                multicast-queue 11
            exit
            fc "nc" create
                queue 8
            exit
            dscp af21 af22 af23 fc "af"
            dscp be fc "be"
            dscp ef cs5 fc "ef" priority high
            dscp af41 af42 af43 fc "h2"
            dscp af31 af32 af33 fc "l1"
            dscp cs1 cs3 af11 af12 af13 fc "l2"
            dscp nc1 fc "nc" priority high
        exit
        sap-egress 100 name "100" create
            description "decription"
            queue 1 create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 1
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 2 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 2
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 3 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 3
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 4 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 4
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 5 best-effort create
                parent "ENTERPRISE-TIER-3-SCHEDULER" cir-level 5
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 7 expedite create
                parent "ENTERPRISE-TIER-3-SCHEDULER" level 7 cir-level 7
                adaptation-rule pir min cir min
                rate max cir max
            exit
            queue 8 expedite create
                parent "ENTERPRISE-TIER-3-SCHEDULER" level 8 cir-level 8
                adaptation-rule pir min cir min
                rate max cir max
            exit
            fc af create
                queue 3
                dot1p 3
            exit
            fc be create
                queue 1
            exit
            fc ef create
                queue 7
                dot1p 5
            exit
            fc h2 create
                queue 5
                dot1p 3
            exit
            fc l1 create
                queue 4
                dot1p 3
            exit
            fc l2 create
                queue 2
            exit
            fc nc create
                queue 8
                dot1p 6
            exit
            dscp af21 af22 af23 fc "af"
            dscp be fc "be"
            dscp af41 af42 af43 fc "h2"
            dscp af31 af32 af33 fc "l1"
            dscp cs1 cs3 af11 af12 af13 fc "l2"
        exit
    exit
#--------------------------------------------------
echo "Open-Flow Configuration"
#--------------------------------------------------
    open-flow
        of-switch "OFS1" ofs-id 1
        exit
    exit
#--------------------------------------------------
echo "Management Router Configuration"
#--------------------------------------------------
    router management
    exit

#--------------------------------------------------
echo "Router (Network Side) Configuration"
#--------------------------------------------------
    router Base
        interface "INVENTORY-TEST-R4"
            address 10.4.4.4/32
            loopback
            no shutdown
        exit
        interface "LOOPBACK-ANYCAST"
            address 10.34.34.1/32
            loopback
            no shutdown
        exit
        interface "system"
            address 10.10.10.4/32
            no shutdown
        exit
        interface "toR2"
            address 10.2.4.2/29
            port 1/1/1:0
            no shutdown
        exit
        interface "toR3"
            address 10.3.4.2/29
            port 1/1/3:0
            no shutdown
        exit
        interface "toR5"
            address 10.4.5.1/29
            port 1/1/5:0
            no shutdown
        exit
        interface "toR6"
            address 10.6.4.2/29
            port 1/1/2
            no shutdown
        exit
        interface "toR7"
            address 10.4.7.1/29
            port 1/1/4
            no shutdown
        exit
        autonomous-system 65000
        ecmp 16
#--------------------------------------------------
echo "MPLS Label Range Configuration"
#--------------------------------------------------
        mpls-labels
            sr-labels start 20001 end 20900
        exit
#--------------------------------------------------
echo "ISIS Configuration"
#--------------------------------------------------
        isis 0
            level-capability level-2
            standard-multi-instance
            area-id 49.0001.1111
            traffic-engineering
            reference-bandwidth 100000000
            advertise-router-capability area
            loopfree-alternates
                remote-lfa
                exit
            exit
            level 1
                wide-metrics-only
            exit
            level 2
                wide-metrics-only
            exit
            segment-routing
                prefix-sid-range global
                no shutdown
            exit
            interface "system"
                interface-type point-to-point
                ipv4-node-sid index 34
                no shutdown
            exit
            interface "toR2"
                interface-type point-to-point
                no shutdown
            exit
            interface "toR3"
                interface-type point-to-point
                no shutdown
            exit
            interface "toR5"
                interface-type point-to-point
                no shutdown
            exit
            interface "toR6"
                interface-type point-to-point
                no shutdown
            exit
            interface "toR7"
                interface-type point-to-point
                no shutdown
            exit
            no shutdown
        exit
#--------------------------------------------------
echo "ISIS (Inst: 1) Configuration"
#--------------------------------------------------
        isis 1
            level-capability level-1
            standard-multi-instance
            area-id 49.0002.2222
            lsp-lifetime 65535
            lsp-refresh-interval 65535 half-lifetime enable
            database-export identifier 1 bgp-ls-identifier 1
            traffic-engineering
            reference-bandwidth 100000000
            advertise-router-capability area
            loopfree-alternates
                remote-lfa
                exit
            exit
            timers
                lsp-wait 120000 lsp-initial-wait 100000 lsp-second-wait 100000
            exit
            level 1
                wide-metrics-only
            exit
            level 2
                wide-metrics-only
            exit
            segment-routing
                prefix-sid-range global
                no shutdown
            exit
            interface "system"
                interface-type point-to-point
                no shutdown
            exit
            interface "LOOPBACK-ANYCAST"
                ipv4-node-sid label 20134 clear-n-flag
                passive
                no shutdown
            exit
            interface "toR5"
                interface-type point-to-point
                no shutdown
            exit
            no shutdown
        exit
#--------------------------------------------------
echo "Pcep Configuration"
#--------------------------------------------------
        pcep
            pcc
                peer 192.168.100.41
                    no shutdown
                exit
                no shutdown
            exit
        exit
#--------------------------------------------------
echo "MPLS Configuration"
#--------------------------------------------------
        mpls
            sr-te-resignal
                resignal-on-igp-event
            exit
            mpls-tp
            exit
            interface "system"
                no shutdown
            exit
            interface "toR2"
                no shutdown
            exit
            interface "toR3"
                no shutdown
            exit
            interface "toR5"
                no shutdown
            exit
            interface "toR6"
                no shutdown
            exit
            interface "toR7"
                no shutdown
            exit
            mpls-tp
                no shutdown
            exit
        exit
#--------------------------------------------------
echo "RSVP Configuration"
#--------------------------------------------------
        rsvp
            keep-multiplier 255
            refresh-time 65535
            rapid-retransmit-time 100
            refresh-reduction-over-bypass enable
            interface "system"
                no shutdown
            exit
            interface "toR2"
                refresh-reduction
                    reliable-delivery
                exit
                no shutdown
            exit
            interface "toR3"
                refresh-reduction
                    reliable-delivery
                exit
                no shutdown
            exit
            interface "toR5"
                refresh-reduction
                    reliable-delivery
                exit
                no shutdown
            exit
            interface "toR6"
                refresh-reduction
                    reliable-delivery
                exit
                no shutdown
            exit
            interface "toR7"
                refresh-reduction
                    reliable-delivery
                exit
                no shutdown
            exit
            no shutdown
        exit
#--------------------------------------------------
echo "MPLS LSP Configuration"
#--------------------------------------------------
        mpls
            path "LOOSE"
                no shutdown
            exit
            path "PCE-PLACEHOLDER"
                no shutdown
            exit
            lsp-template "PCE-INIT" pce-init-p2p-srte template-id default
                default-path "PCE-PLACEHOLDER"
                max-sr-labels 5 additional-frr-labels 2
                pce-report enable
                no shutdown
            exit
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.1"
                shutdown
                to 10.10.10.1
                from 10.10.10.4
                egress-statistics
                    shutdown
                exit
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
            exit
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.2"
                shutdown
                to 10.10.10.2
                from 10.10.10.4
                egress-statistics
                    shutdown
                exit
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
            exit
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.5"
                shutdown
                to 10.10.10.5
                from 10.10.10.4
                egress-statistics
                    shutdown
                exit
                path-computation-method local-cspf
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
            exit
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.6"
                shutdown
                to 10.10.10.6
                from 10.10.10.4
                egress-statistics
                    shutdown
                exit
                path-computation-method local-cspf
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
            exit
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.7"
                shutdown
                to 10.10.10.7
                from 10.10.10.4
                egress-statistics
                    shutdown
                exit
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
            exit
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.3"
                to 10.10.10.3
                from 10.10.10.4
                egress-statistics
                    shutdown
                exit
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            lsp "pccSrte-from-10.10.10.4-to-10.10.10.1" sr-te
                to 10.10.10.1
                from 10.10.10.4
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            lsp "pccSrte-from-10.10.10.4-to-10.10.10.2" sr-te
                to 10.10.10.2
                from 10.10.10.4
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            lsp "pccSrte-from-10.10.10.4-to-10.10.10.4" sr-te
                to 10.10.10.3
                from 10.10.10.4
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            lsp "pccSrte-from-10.10.10.4-to-10.10.10.5" sr-te
                to 10.10.10.5
                from 10.10.10.4
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            lsp "pccSrte-from-10.10.10.4-to-10.10.10.6" sr-te
                to 10.10.10.6
                from 10.10.10.4
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            lsp "pccSrte-from-10.10.10.4-to-10.10.10.7" sr-te
                to 10.10.10.7
                from 10.10.10.4
                path-computation-method pce
                pce-report enable
                pce-control
                primary "LOOSE"
                exit
                no shutdown
            exit
            pce-initiated-lsp
                sr-te
                    no shutdown
                exit
            exit
            no shutdown
        exit
#--------------------------------------------------
echo "LDP Configuration"
#--------------------------------------------------
        ldp
            import-pmsi-routes
            exit
            tcp-session-parameters
            exit
            interface-parameters
                ipv4
                    hello 180 3
                    keepalive 90 3
                exit
                interface "toR2" dual-stack
                    ipv4
                        no shutdown
                    exit
                    no shutdown
                exit
                interface "toR3" dual-stack
                    ipv4
                        no shutdown
                    exit
                    no shutdown
                exit
                interface "toR5" dual-stack
                    ipv4
                        no shutdown
                    exit
                    no shutdown
                exit
                interface "toR6" dual-stack
                    ipv4
                        no shutdown
                    exit
                    no shutdown
                exit
                interface "toR7" dual-stack
                    ipv4
                        no shutdown
                    exit
                    no shutdown
                exit
            exit
            targeted-session
            exit
            no shutdown
        exit
#--------------------------------------------------
echo "TWAMP Light Configuration"
#--------------------------------------------------
        twamp-light
            reflector udp-port 64364 create
                prefix 0.0.0.0/0 create
                exit
                prefix 195.195.0.0/24 create
                exit
                no shutdown
            exit
        exit
    exit

#--------------------------------------------------
echo "Service Configuration"
#--------------------------------------------------
    service
        sdp 10403 mpls create
            far-end 10.10.10.3
            sr-te-lsp "pccSrte-from-10.10.10.4-to-10.10.10.4"
            keep-alive
                shutdown
            exit
            no shutdown
        exit
        sdp 20403 mpls create
            far-end 10.10.10.3
            lsp "pccRsvp-from-10.10.10.4-to-10.10.10.3"
            keep-alive
                shutdown
            exit
            no shutdown
        exit
        customer 1 name "1" create
            description "Default customer"
        exit
        epipe 1 name "PW11-tldp-single-Instance-4001_R4" customer 1 create
            description "ietf_l2vpn"
            sap 1/1/10 create
                no shutdown
            exit
            spoke-sdp 20403:4001 vc-type vlan create
                no shutdown
            exit
            no shutdown
        exit
        epipe 2 name "PW06-tldp-single-Instance-901-R4" customer 1 create
            description "PW06-tldp-single-Instance-901-R4"
            sap 1/1/9:901 create
                description "PW06-tldp-single-Instance-901"
                no shutdown
            exit
            spoke-sdp 20403:901 vc-type vlan create
                no shutdown
            exit
            no shutdown
        exit
        epipe 3 name "PW2020-tldp-single-Instance-R4" customer 1 create
            description "PW2020-tldp-single-Instance-R4"
            sap 1/1/9:2020 create
                no shutdown
            exit
            spoke-sdp 20403:2020 vc-type vlan create
                no shutdown
            exit
            no shutdown
        exit
        epipe 5 name "PW2021-tldp-single-Instance-R4" customer 1 create
            description "PW2021-tldp-single-Instance-R4"
            sap 1/1/9:0 create
                no shutdown
            exit
            spoke-sdp 20403:2021 vc-type vlan create
                no shutdown
            exit
            no shutdown
        exit
        epipe 8 name "PW08-tldp-single-Instance-902-R4" customer 1 create
            description "PW08-tldp-single-Instance-902"
            sap 1/1/9:902 create
                description "PW08-tldp-single-Instance-902"
                no shutdown
            exit
            spoke-sdp 10403:902 vc-type vlan create
                no shutdown
            exit
            no shutdown
        exit
        epipe 17 name "PW2060-tldp-single-instqnce-R4" customer 1 create
            description "PW2060-tldp-single-instqnce"
            sap 1/1/9:2060 create
                no shutdown
            exit
            spoke-sdp 20403:2060 vc-type vlan create
                no shutdown
            exit
            no shutdown
        exit
    exit
#--------------------------------------------------
echo "CPM Filter Router and Svc-id Match Configuration"
#--------------------------------------------------
    system
        security
            cpm-filter
                ip-filter
                    no shutdown
                exit
            exit
        exit
    exit
#--------------------------------------------------
echo "Router (Service Side) Configuration"
#--------------------------------------------------
    router Base
#--------------------------------------------------
echo "ISIS Configuration"
#--------------------------------------------------
        isis 0
            no shutdown
        exit
#--------------------------------------------------
echo "ISIS (Inst: 1) Configuration"
#--------------------------------------------------
        isis 1
            no shutdown
        exit
#--------------------------------------------------
echo "BGP Configuration"
#--------------------------------------------------
        bgp
            vpn-apply-import
            vpn-apply-export
            hold-time 0
            min-route-advertisement 5
            multi-path
                ipv4 64
                ipv6 64
                label-ipv4 64
                label-ipv6 64
            exit
            ibgp-multipath
            advertise-inactive
            enable-peer-tracking
            rapid-withdrawal
            bfd-enable
            split-horizon
            link-state-import-enable
            rapid-update vpn-ipv4 vpn-ipv6 l2-vpn evpn label-ipv4 label-ipv6
            add-paths
                ipv4 send 16 receive
                ipv6 send 16 receive
                vpn-ipv4 send 16 receive
                vpn-ipv6 send 16 receive
                label-ipv4 send 16 receive
            exit
            backup-path ipv4 ipv6 label-ipv4 label-ipv6
            sr-policy-import
            next-hop-resolution
                shortcut-tunnel
                    family ipv4
                        resolution-filter
                            sr-policy
                            rsvp
                        exit
                        resolution filter
                    exit
                exit
                labeled-routes
                    transport-tunnel
                        family label-ipv4
                            resolution-filter
                                ldp
                                rsvp
                            exit
                            resolution filter
                        exit
                    exit
                exit
            exit
            group "RR-INLINE"
                next-hop-self
                cluster 34.34.34.34
                neighbor 10.10.10.5
                    description "TO-RR-CLIENT"
                    family ipv4 vpn-ipv4 evpn label-ipv4
                    type internal
                    local-as 65000
                    peer-as 65000
                exit
                neighbor 10.10.10.6
                    description "TO-RR-CORE"
                    family ipv4 vpn-ipv4 evpn label-ipv4 bgp-ls
                    type internal
                    local-as 65000
                    peer-as 65000
                exit
                neighbor 10.10.10.7
                    description "TO-RR-CORE"
                    family ipv4 vpn-ipv4 evpn label-ipv4 bgp-ls
                    type internal
                    local-as 65000
                    peer-as 65000
                exit
            exit
            no shutdown
        exit
    exit

#--------------------------------------------------
echo "Open-Flow Configuration"
#--------------------------------------------------
    open-flow
        of-switch "OFS1" ofs-id 1
            of-controller 192.168.100.41:6653
            exit
            flowtable 0
            exit
            logical-port-status rsvp-te
            logical-port-status mpls-tp
            no shutdown
        exit
    exit
#--------------------------------------------------
echo "Log all events for service vprn, log syslog tls-client-profile Configuration"
#--------------------------------------------------
    log
    exit
#--------------------------------------------------
echo "System Time NTP Configuration"
#--------------------------------------------------
    system
        time
            ntp
                server 139.178.91.129
                server 145.40.97.121
                server 147.75.102.177
            exit
        exit
    exit
#--------------------------------------------------
echo "OAM Performance Monitoring Configuration"
#--------------------------------------------------
    oam-pm
        bin-group 10 fd-bin-count 3 fdr-bin-count 2 ifdv-bin-count 2 create
            description "'SDNPOC-BinGroup'"
            bin-type fd
                delay-event round-trip lowest-bin 0 threshold 200
            exit
            no shutdown
        exit
        session "cw_10.3.4.2" test-family ip session-type proactive create
            bin-group 10
            meas-interval 5-mins create
                event-mon
                    delay-events
                    loss-events
                    no shutdown
                exit
            exit
            ip
                dest-udp-port 64364
                destination 10.3.4.1
                router-instance "Base"
                source 10.3.4.2
                twamp-light test-id 10 create
                    delay-template "STREAM"
                    record-stats delay-and-loss
                    no shutdown
                exit
            exit
        exit
        streaming
            delay-template "STREAM" create
                description "OAM-PM Stream"
                fd-avg round-trip
                sample-window 10
                window-integrity 80
                no shutdown
            exit
        exit
    exit

exit all

